
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>My Octopress Blog</title>
  <meta name="author" content="Your Name">

  
  <meta name="description" content="Get Extension from Magento Connect I have few blog posts regarding working with Ajax on Magento. http://subesh.com.np/category/ajax/. And I see many &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://subeshpokhrel.github.io/blog/page/2">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="My Octopress Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">My Octopress Blog</a></h1>
  
    <h2>A blogging framework for hackers.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:subeshpokhrel.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/14/ajaxify-v1-0-0-extension-to-help-in-working-with-ajax-in-magento-released-on-magento-connect/">Ajaxify v1.0.0 : Extension to Help in Working With Ajax in Magento Released on Magento Connect.</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-14T00:00:00+05:45" pubdate data-updated="true">Feb 14<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h6>Get Extension from Magento Connect</h6>
<a href="http://www.magentocommerce.com/magento-connect/ajaxify-8411.html" title="Ajaxify" target="_blank"><img src="http://www.magentocommerce.com/magento-connect/skin/frontend/enterprise/connect/images/logo-appstore.png"/></a>

I have few blog posts regarding working with Ajax on Magento. <a href="http://subesh.com.np/category/ajax/">http://subesh.com.np/category/ajax/</a>. And I see many people visiting those pages to get the information on working with Ajax in Magento. Sensing the need of developer I came up with an idea of making the whole process into a module in an effort to give back to the Magento community. I&#8217;ve tried to make the module simple for now, which of course can be extended a lot to incorporate all kinds of needs. But for now, if I may say, there are roughly these two things you might want to do (Purely in Magento terms).

<ol>
	<li>Request to a controller with params, do some changes in the model, set error/success message and show those message to the user.</li>
	<li>Next, perform all the actions as #1 and in addition to that refresh the content of certain HTML elements.</li>
</ol>

This module has been devised just to meet these two actions. In addition, the module is loader ready and has by default a floating message block. 
Followings are the ways you can perform those two actions using this module.

<strong>Overview</strong>
The core functionality implemenation is done in js/ajaxify/ajaxify.js file. If you look into that file, you will find a JS Class. The constructor for the class are:
<ol>
	<li>URL of the request controller.</li>
	<li>Parameters (JSON object) to be sent as request params to the controller.</li>
</ol>

For request and show message just call <em>request()</em> method, while if you want an HTML element to be updated then call <em>requestUpdate(&#8216;elementID&#8217;)</em>, with element ID in the parameter.



<strong>Request to a controller with params, do some changes in the model, set error/success message and show those message to the user.</strong>

This is how you initillize the JS Object.
[source lang=&#8221;javascript&#8221;]
&lt;script type=&quot;text/javascript&quot;&gt;
	var ajxObj =  new SpAjaxify(&#8216;&lt;?php echo $this-&gt;getUrl(&#8216;ajaxify/index/test&#8217;) ?&gt;&#8217;, {id: &#8216;12&#8217;, value: &#8216;23&#8217;});
	ajxObj.request(); // Request
&lt;/script&gt;
[/source]
To set the message error/success you have to use ajaxify/session model, because it is from this model the messages are shown.

[source lang=&#8221;php&#8221;]
/**
     * Always use this session to set your error or success message
     *
     * @return Sp_Ajaxify_Model_Session
     * 
     * PLEASE DO NOT EDIT THIS
     */
    protected function _getSession()
    {
    	return Mage::getSingleton(&#8216;ajaxify/session&#8217;);
    }

	// Set Error message .
   	$this-&gt;_getSession()-&gt;addError(&#8216;Item was not added to the shopping cart.&#8217;);
    	
    	// Set Success message
    	$this-&gt;_getSession()-&gt;addSuccess(&#8216;Item was successfully added to the shopping cart.&#8217;);
[/source]



<strong>In addition to the above refresh the content of certain HTML elements.</strong>

[source lang=&#8221;javascript&#8221;]
&lt;script type=&quot;text/javascript&quot;&gt;
	var ajxObj =  new SpAjaxify(&#8216;&lt;?php echo $this-&gt;getUrl(&#8216;ajaxify/index/test&#8217;) ?&gt;&#8217;, {id: &#8216;12&#8217;, value: &#8216;23&#8217;});

	ajxObj.requestUpdate(&#8216;sidebar_cart&#8217;); // Ajax request with parameter to update the HTML element.
&lt;/script&gt;
[/source]

The source also contains description of the hidden logic to manage templates/layouts required.

<a href="https://github.com/subeshpokhrel/ajaxify"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_left_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/07/ttt-edb-faqs/">External Database Connector FAQ&#8217;s</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-07T00:00:00+05:45" pubdate data-updated="true">Feb 7<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content">We have been receiving a lots of comments on how to &#8220;install&#8221; External Database Connector (Formarly, TTT_EDB) in Magento. So we thought why not clear that out some of the questions we received here and lets see if this will help you and all.

First of all we would like to say that this is not a fully functional module (Don&#8217;t Panic..), meaning you will not be able work with tables of external database just by configuring the settings of the module. You will have to code your associated Model/Collection classes based on the <a href="http://subesh.com.np/2012/02/magento-external-database-connector-v1-0-0-released/">Magento External Database Connector Released</a>.

Few things which came and we would want to clear out.

<strong>1. I tried to install the module via Magento Connect, but showed some error during installation?</strong>

We have packaged this extention using Magento 1.5.x. There are complaints on installing using Magento Downloader v1, please use Magento Downloader v2. We will try to fix this problem for v1 ASAP.

<strong>2. Which Config file do I have to use/edit?</strong>

In Magento, database connection settings can be found on app/etc/local.xml, but we are NOT talking about that settings. If we say a config file we are talking about <strong>Sp/Edb/etc/config.xml</strong>.

<strong>3. How do I configure Edb to use my external database&#8217;s table? </strong>

Edit <strong>Sp/Edb/etc/config.xml</strong> and find the [entities]. You will then find a child node there [report]. Change that to your table alias (lets say magician). Also change the value of [table]tbl_magician[/table]. The value for [table] should be the table name of the external database you want to work with. If you want to work with multiple tables of the external database, you will have to add multiple alias and its respective table name.

<strong><em>Note #1 that the nodes are shown in [ ], because of the rendering issue. 
Note #2 that you can do the same in your own Module&#8217;s config file.</em></strong>

<strong>4. How to define Model/Resource/Collection?</strong>

If you follow the basic step defined <a href="http://subesh.com.np/2012/02/magento-external-database-connector-v1-0-0-released/">http://subesh.com.np/2012/02/magento-external-database-connector-v1-0-0-released/</a>. You should be able to set all those up. For multiple table access you must create multiple Model/Resource and Collection.
<strong>
5. How do I test if it&#8217;s working?</strong>

Simplest method would be in your cron.php file found on installed Magento&#8217;s root folder. Open the cron.php file and inside the try block call the model you just created write the following. If you have followed the documentation exactly as in the link above, then

[source language=&#8221;php&#8221;]
try {
$model = Mage::getModel(&#8216;edb/magician&#8217;);

// This data will depend on your table schema.
$model-&gt;setName(&#8216;The three Tree&#8217;)-&gt;save();
$model-&gt;setName(&#8216;TTT&#8217;)-&gt;save();
exit;
&#8212;-
&#8212;-

}
[/source]

Then run the cron.php from your browser example.com/cron.php. After this see you external database table, a new row should be inserted.

Hope this clarifies something if not everything. Please send us feedbacks, we would be happy to address that.
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/07/magento-external-database-connector-v1-0-0-released/">Magento External Database Connector Released</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-07T00:00:00+05:45" pubdate data-updated="true">Feb 7<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote>Formarly Known as The Three Tree External Database Connector</blockquote>


Magento External Database Connector module will be helpful for the &#8220;Developers&#8221; who want to connect to the external Database server (other than the database used by Magento). This module will help the developer to set up a connection object (Read &amp; Write) with the configuration configured in Admin Settings and use that connection to do database transactions on external database.
<blockquote>All you have to do is set the settings of your external database connection in your Magento Settings and extend your model/collection class with the class of this module and use other codes as you have been using in Magento to select/update/delete records.</blockquote>
<blockquote>It will be as simple as Mage::getModel(&#8216;mymodule/mymodel&#8217;)-&gt;setData(&#8216;name&#8217;,&#8217;The Next Tree&#8217;)-&gt;save()</blockquote>
Here is the explanation of how you can use the External Database Connector module&#8217;s classes to define your
<ol>
	<li>Model</li>
	<li>Resource Model</li>
	<li>Collection</li>
</ol>

Lets take a simple example. Say you have a table (of course in an external database) named tbl_magician, which has two just two columns id and name. First thing set up an entity definition in the config.xml file of your module or you can add in this module&#8217;s config as well.

[source language=&#8221;xml&#8221;]
 &lt;entities&gt;
      &lt;!&#8211; Add As many tables config here &#8211;&gt;
            &lt;magician&gt; &lt;!&#8211; Table alias &#8211;&gt;
                   &lt;table&gt;tbl_magician&lt;/table&gt; &lt;!&#8211; Actual Table Name &#8211;&gt;
             &lt;/magician&gt;
      &lt;!&#8211; Add As many tables config here &#8211;&gt;
&lt;/entities&gt;
[/source]

<h3>Model Defination</h3>
All of your Model that uses the external source has to be extended by Sp_Edb_Model_Abstract. If you see on this class you can find that the connection has been established based on the settings you do on Magento backend. An example for your model class will be something like this.
[source language=&#8221;php&#8221;]
&lt;?php
class Sp_Edb_Model_Magician extends Sp_Edb_Model_Abstract
{
	 /**
     * Initialize resources
     */
    public function __construct()
    {
		parent::__construct();
		$this-&gt;_init(&#8216;edb/magician);  
     }


}
[/source]
<a href="http://www.thethreetree.com/wp-content/uploads/2011/04/settings.png"><img src="http://www.thethreetree.com/wp-content/uploads/2011/04/settings-300x140.png" alt="" title="EDB Settings" width="300" height="140" class="alignleft size-medium wp-image-24" /></a>
If you are wondering where to set up your connection settings go to System&#8211;>Configuration&#8211;>SP EDB and add your settings there. 
<br/><br/><br/>

<h3>Resource Model</h3>
Similary your resource model should extend one another class of the module as shown below.
[source language=&#8221;php&#8221;]
&lt;?php
class Sp_Edb_Model_Mysql4_Magician extends Sp_Edb_Model_Mysql4_Abstract
{

	protected function _construct()
    {
        $this-&gt;_init(&#8216;edb/magician&#8217;, &#8216;id&#8217;);
    }

}
[/source]

<h3>Collection</h3>
As you might have already guessed yes..! collection also needs to be extended by one another class of the module as below
[source language=&#8221;php&#8221;]
&lt;?php
class Sp_Edb_Model_Mysql4_Magician_Collection extends Sp_Edb_Model_Mysql4_Collection_Abstract
{
	 /**
     * Local constructor
     *
     */
    protected function _construct()
    {
        $this-&gt;_init(&#8216;edb/magician&#8217;);
    }
}
[/source]

<blockquote>
All those parent classes used are themselves extended from the classes which Magento uses for Model or Resource or Collection. So there is no any functionality missing and you can use the same old methods for insert/update or select.
</blockquote>

After setting up all these classes you can now just freely use these functions without keeping external connection in mind.
[source language=&#8221;php&#8221;]
$model = Mage::getModel(&#8216;edb/magician&#8217;);
// To save
$model-&gt;setName(&#8216;The three Tree&#8217;)-&gt;save();
$model-&gt;setName(&#8216;TTT&#8217;)-&gt;save();

// Get Collection
$collection = $model-&gt;getCollection();
$collection-&gt;getSelect()-&gt;where(&#8216;main_table.id = ?&#8217;, 1);
[/source]

If you have any confusion we would be happy to address that.The module is now available on <a target="_blank" href="http://www.magentocommerce.com/magento-connect/sp-edb-4574.html"> Magento Connect</a>.

<a href="http://subesh.com.np/2012/02/ttt-edb-faqs/" title="EDB FAQs" target="_blank">FAQ&#8217;s</a>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/01/magdoc-powered-by-scribd-released-on-magento-connect/">MagDoc – Powered by Scribd Released on Magento Connect</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-02-01T00:00:00+05:45" pubdate data-updated="true">Feb 1<span>st</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content">MagDoc will give store administrator a feature of managing/displaying document in the Magento storefront powered by richly featured “<strong><em>the world’s largest social reading and publishing platform</em></strong>” -  <strong>Scribd</strong>. This module provides a unique user experience for reading a document online using the Scribd Reader application embedded in HTML.

Get this extension on <a target="_blank" href="http://www.magentocommerce.com/magento-connect/sp-magdoc-8372.html">Magento Connect</a>
<h2>Features</h2>
<ol>
	<li>Uses the <strong>free API service</strong> provided by Scribd to upload and manage your document from the Magento administration area.</li>
	<li>Upload as much document you want to upload, because there is <strong>no restriction on the storage limit.</strong></li>
	<li>Tag your uploaded documents on Scribd.</li>
	<li>Set scope <strong>Private</strong> or <strong>Public</strong> for your uploaded document.</li>
	<li>Upload and transform any file &#8211; <strong>including PDF, Word and PowerPoint</strong> &#8211; into a web document that’s discoverable through <strong>search engines, shared on social networks and read on billions of mobile devices.</strong></li>
	<li>Assign uploaded files to your product which can be shown in the storefront using a multi functional online <strong>Scribd Reader</strong>.</li>
	<li>Supports <strong>all the document formats</strong> supported by Scribd. This list of the supported format can be found on <a target="_blank" href="http://www.scribd.com/developers/api?method_name=doc_types" target="_blank"> This Location </a></li>
</ol>


<h2>Installation Guide</h2>
<ol>
	<li>Get the extension from<a target="_blank" href="http://www.magentocommerce.com/magento-connect/sp-magdoc-8372.html" target="_blank"> Magento Connect</a>.</li>
	<li>Install the extension from Magento Connect Manager.</li>
	<li>Voila! Installation completed.</li>
</ol>


<h2>Setting up the Module</h2>
<ol>
	<li>Sign up for an account on <a target="_blank" href="http://www.scribd.com"> http://www.scribd.com </a></li>
	<li>Get the API Key and Secret Key from Scribd. The procedure for getting your API key and Secret Key is described on <a target="_blank" href="http://support.scribd.com/entries/25453-where-can-i-find-my-api-key">http://support.scribd.com/entries/25453-where-can-i-find-my-api-key</a>.</li>
	<li>In Magento backend goto System&#8211;&gt;Configuration&#8211;&gt;MagDoc&#8211;&gt;Settings.</li>
	<li>Fill out the API key and Secret Key value you obtain from Scribd and save the settings.</li>
	<li>Now the module is set up and ready to be used.</li>
</ol>



<h2>User Guide</h2>
<ol>
	<li> Document can be uploaded on Scribd from Magento administration area. In admin area go to <strong>Magdoc&#8211;>Manage Document</strong>. You can add/edit/delete documents from here.</li>
	<li>Documents can be assigned to product. Create or Edit any product. A new  option for selecting the document for the product will be visible in the  product edit area. But make sure the attribute “<strong>magdoc_id</strong>” is already  in the attribute set of the product being edited. Select the required  document and save the product.</li>
	<li>Visit the product details page on the frontend. The document will be visible using <strong>Scribd Reader</strong>.</li>
</ol>


<h2>Developer Guide</h2>
To display Scribd document in the product details page. This should be placed in appropriate place. Also you can see that the height and width for the Scribd Reader can be configured from layout.

[source lang=&#8221;xml&#8221;]
&lt;block type=&quot;magdoc/magdoc&quot; name=&quot;magdoc&quot; template=&quot;magdoc/magdoc.phtml&quot;&gt;
            	&lt;action method=&quot;setDocumentHeight&quot;&gt;&lt;width&gt;600px&lt;/width&gt;&lt;/action&gt;
            	&lt;action method=&quot;setDocumentWidth&quot;&gt;&lt;width&gt;850px&lt;/width&gt;&lt;/action&gt;
 &lt;/block&gt;
[/source]

Here’s a tip for showing the Scribd document on tabs on product details page.

[source lang=&#8221;xml&#8221;]
&lt;block type=&quot;catalog/product_view_tabs&quot; name=&quot;product.info.tabs&quot; as=&quot;info_tabs&quot; template=&quot;catalog/product/view/tabs.phtml&quot; &gt;
                    &lt;action method=&quot;addTab&quot; translate=&quot;title&quot; module=&quot;catalog&quot;&gt;
                    	&lt;alias&gt;magdoc&lt;/alias&gt;
                    	&lt;title&gt;Document&lt;/title&gt;
                    	&lt;block&gt;magdoc/magdoc&lt;/block&gt;
                    	&lt;template&gt;magdoc/magdoc.phtml&lt;/template&gt;
                   	&lt;/action&gt;
        &lt;/block&gt;

[/source]

I hope the module will be useful for the store owners. If you have any feedbacks, please report in the comment section below.

<br/>

<blockquote>Disclaimer: <strong>Scribd</strong> is the property of Scribd Inc. This module is NOT the official module of Scribd.</blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/27/debugging-magento-using-eclipse-on-ubuntu/">Debugging Magento Using Eclipse on Ubuntu</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-27T00:00:00+05:45" pubdate data-updated="true">Jan 27<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content">I&#8217;ve previously posted <a href="http://subesh.com.np/2010/01/debugging-magento-eclipse-pdt-zend-debugger/" title="http://subesh.com.np/2010/01/debugging-magento-eclipse-pdt-zend-debugger/" target="_blank">http://subesh.com.np/2010/01/debugging-magento-eclipse-pdt-zend-debugger</a> but currently I think it was just a snub. What I currently do now is far more better approach then the previous one. Here is how you can set up a debugging environment in Ubuntu using Eclipse for debugging Magento.

[Note: I am describing here based on Ubuntu.]

<strong>Step 1: Download and Install Eclipse</strong>
<a href="http://www.eclipse.org/pdt/downloads/" title="Download" target="_blank">Download</a> and Install Eclipse. Choose the relevant package to download. Unzip the package and copy to some location. Lets say /home/user/ Please note that the Eclipse IDE requires that a Java Runtime Environment (JRE) be installed on your machine to run. Java SE 5 or greater is recommended.

<strong>Step 2: Setting up PHP Project</strong>
Next thing you have to do is to setup the project in Eclipse. Open the Eclipse IDE and it will ask for your Workspace. Browse to your workspace (Where your Magento site is running locally) or by default point it to <strong><em>/var/www</em></strong> and click OK. Now click on <strong>File&#8211;>New &#8211;> New PHP Project</strong>, and add your folder name on Project Name and click Finish. Eclipse will take few time on building your project, so take a coffee break if you want and be back in few minutes to go through the steps below.

<strong>Step 3: Installing X-Debugger</strong>

[source lang=&#8221;shell&#8221;]
sudo apt-get install php5-xdebug
[/source]

<strong>Step 4: Configure X-Debugger</strong>
Type this in your command prompt.
[source lang=&#8221;shell&#8221;]
sudo gedit /etc/php5/apache2/conf.d/xdebug.ini
[/source]

And add this settings on the .ini file

[source lang=&#8221;shell&#8221;]
xdebug.remote_enable=1
[/source]

And restart the apache server.

[source lang=&#8221;shell&#8221;]
sudo /etc/init.d/apache2 restart
[/source]


<strong>Step 5: Debug Configuration on Eclipse</strong>

On menu click <strong>Window&#8211;>Preference</strong>. Find <strong>PHP&#8211;>Debug</strong> Node in the left. When you click Debug you can see screen like this. <strong>Select PHP Debugger - XDebug</strong>.

<img alt="" src="https://lh4.googleusercontent.com/-VPXpprs69Zs/TyJt9pH7SUI/AAAAAAAAAIw/xNflpZ_t3GY/w612-h503-k/php-Debug.png" title="PHP - Eclipse - Debugger Settings" class="aligncenter" width="611" height="502" />

To Set Server click <strong>PHP Servers</strong> and add new server as follows and click Finish.

<img alt="" src="https://lh3.googleusercontent.com/-A9yecKpDgNk/TyJwssyq9MI/AAAAAAAAAJU/uwWKVvWvmiM/w306-h222-n-k/Server.png" title="PHP-Eclipse-Magento Server Configuration" class="aligncenter" width="306" height="222" />


<strong>Step 6: Configuring debug conf for Magento Projects</strong>

On menu click<strong> Run&#8211;> Debug Configurations</strong>. Find <strong>PHP Web Page</strong> and Right click for adding new configuration. Add something similar to like this.

<img alt="" src="https://lh6.googleusercontent.com/-e0CrUe0yLyE/TyJ3RqF5VPI/AAAAAAAAAJ0/0btGPXdLfcA/w291-h222-n-k/Debug%2BSettings.png" title="PHP - Eclipse - Magento - Web Page configuration." class="aligncenter" width="291" height="222" />


<strong>Step 7: Add Break-Point and start debugging</strong>

Now almost all the settings are done. Now you can just add a break-point on your code and start debugging your script by clicking the BUG icon on the top bar.

Few tips though before you start.

<ol>
	<li> Set up an external browser to run your debug configuation. Go to <strong>Window&#8211;>Preference</strong> and type in <strong><em>web browse</em>r</strong> in the top left search. And you will get a result. Click on Web Browser to select Use External Web Browser. If that is not clickable first click the restore default button and then the external web browser should be clickable.</li>	
<li> You can enable multi-session debug, because you do not want to always click the debug button after each debug end. For that go to preference. Search for debug. Find <strong> PHP &#8211;> Debug &#8211;>Installed Debugger</strong>. Click the <strong>XDebug</strong> and then click configure. You can then Check the <strong>Use Multisession</strong> checkbox and save.</li>

</ol>









</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/09/30/happy-dashain-holidays/">Happy Dashain Holidays!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-30T00:00:00+05:45" pubdate data-updated="true">Sep 30<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content">Its time for all of Nepal to mark their &#8220;only&#8221; long term holidays. It&#8217;d Dashain time and don&#8217;t expect me to come up with things during this week long holidays.
Image courtesy: nepalifonts.blogspot.com

<a href="http://subesh.com.np/2011/09/happy-dashain-holidays/dashain-cards2011_page_2/" rel="attachment wp-att-306"><img src="http://subesh.com.np/wp-content/uploads/2011/09/dashain-cards2011_Page_2-300x240.jpg" alt="" title="dashain cards2011_Page_2" width="300" height="240" class="aligncenter size-medium wp-image-306" /></a>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/08/04/custom-query-in-magento-a-zend-approach/">Custom Query in Magento a Zend Approach [Updated]</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-04T00:00:00+05:45" pubdate data-updated="true">Aug 4<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content">I&#8217;ve already mentioned about<a href="http://subesh.com.np/2009/12/using-custom-query-in-magento/"> custom query in Magento</a>, before but now I think its time to upgrade that method to next level because it would always be good to have standard code for reference.So it is just a new improved way of using a custom query.
First of all we will need is a connection instance. Lets use default_setup instance because it can used for read and write purpose.

[source language=&#8221;php&#8221;]
$connection = Mage::getSingleton(&#8216;core/resource&#8217;)-&gt;getConnection(&#8216;default_setup&#8217;);
[/source]

Then we will use this connection to instanciate Zend_Db_Select object and write query like

[source language=&#8221;php&#8221;]
$select = new Zend_Db_Select($connection);
$table = &#8216;catalog_product_index_price&#8217;;
$select-&gt;from($table, array(&#8216;entity_id&#8217;))
	-&gt;where(&#8216;entity_id = ?&#8217;, $entityId);


// Getting result

$result = $select-&gt;query();
$rowCount = $result-&gt;rowCount();

if ($rowCount) {
	foreach ($result-&gt;fetchAll() as $data) {
		return $data[&#8216;entity_id&#8217;];
	}
}
[/source]

The above one is for select but what about inserting data? It is simple as well. All you have to do is create an associative array of data to be inserted and use connection to add data. For example

[source language=&#8221;php&#8221;]
$connection = Mage::getSingleton(&#8216;core/resource&#8217;)-&gt;getConnection(&#8216;default_setup&#8217;);
$table = &#8216;catalog_product_index_price&#8217;;


$insertData = array();
$insertData [&#8216;price&#8217;] = $productPrice;
$insertData [&#8216;final_price&#8217;] = $productPrice;
$insertData [&#8216;min_price&#8217;] = $productPrice;
$insertData [&#8216;max_price&#8217;] = $productPrice;
$insertData [&#8216;tier_price&#8217;] = $productPrice;

$connection-&gt;insert($table, $insertData);
[/source]

I think this should be a good enough code for using custom query in Magento. About Zend_Db_Select please visit <a href="http://framework.zend.com/manual/en/zend.db.select.html">http://framework.zend.com/manual/en/zend.db.select.html</a>.

<strong>[UPDATE]</strong>

If you want to update the data with custom query and have a condition then you can send the conditions as array as third params to update function. For example.

[source language=&#8221;php&#8221;]
$connection = Mage::getSingleton(&#8216;core/resource&#8217;)-&gt;getConnection(&#8216;default_setup&#8217;);
$table = &#8216;catalog_product_index_price&#8217;;

$updateCond = array(); // Update condition array container.
$insertData = array();
$insertData [&#8216;price&#8217;] = $productPrice;
$insertData [&#8216;final_price&#8217;] = $productPrice;
$insertData [&#8216;min_price&#8217;] = $productPrice;
$insertData [&#8216;max_price&#8217;] = $productPrice;
$insertData [&#8216;tier_price&#8217;] = $productPrice;

$updateCond [] = &#8216;store_id = 0&#8217;;
$updateCond [] = &#8216;entity_id = 3&#8217;;

$connection-&gt;insert($table, $insertData, $updateCond);
[/source]

Happy Brogramming!!
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/05/14/aw-blog-listing-helper-released-on-magento-connect/">AW Blog Listing Helper Released on Magento Connect</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-05-14T00:00:00+05:45" pubdate data-updated="true">May 14<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content">The Three Tree yet again comes up with a new module in Magento Connect. The basic function of the Module is to list the post made via AW Blog  extension, categorized by category identifier of the post, using Layout. Yes, only through layout you can list the post anywhere you want. Not only that you can also restrict the size of the list through layout as well.

You must set your layout as follows.

[source language=&#8221;xml&#8221;]
&lt;reference name=&quot;right&quot;&gt;
	&lt;block type=&quot;tbloghelper/helper&quot; name=&quot;news.list&quot;&gt;
		&lt;action method=&quot;addCategoryIdentifier&quot;&gt;
			&lt;identifier&gt;news&lt;/identifier&gt;
		&lt;/action&gt;
		&lt;action method=&quot;addListSize&quot;&gt;
			&lt;size&gt;5&lt;/size&gt;
		&lt;/action&gt;
	&lt;/block&gt;
&lt;/reference&gt;
[/source]

You can now set the identifier and size parameters as required and the posts will be listed by this module. Simple yet very good and helpful module. As always we are looking forward to your feedbacks.
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/04/23/custom-grid-filter-a-k-a-my-filter-released-on-magento-connect/">Custom Grid Filter a.k. A My Filter Released on Magento Connect</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-04-23T00:00:00+05:45" pubdate data-updated="true">Apr 23<span>rd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content">TTT has made another very handy Magento module available in Magento Connect and the best part is its free. The Three Tree My Filter Module will allow the administrator save the grid filter for Customer Grid, Product Grid and Order Grid. Those filters can be set to be shown in the menu. And when the listing in the menu is clicked the filters for the grid is automatically set and data will be displayed accordingly. This will remove the clumsy work of setting the filters of the grid every time when you want to get specific set of result in the grid. 

For example if you want to see only Simple product in the product grid, you must always select the product type as simple and then hit search. But using the module you will only have to hit search once. Then save the filter and and add the filter to the menu. You can then directly click on the menu of Custom Filter and get the required result.

We would be glad to hear your response on the module.

Install module from <a target="_blank" href="http://www.magentocommerce.com/magento-connect/the3tree/extension/6427/ttt_myfilter">Magento Connect</a>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/12/16/generating-invoiceorders-next-increment-id-in-magento/">Generating Invoice/Order&#8217;s Next Increment ID in Magento</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-16T00:00:00+05:45" pubdate data-updated="true">Dec 16<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content">Magento has its own way of generating increment ID for new invoices and new orders after they are saved. But how about knowing them before hand, i.e before the invoice or the order is created! Lets first understand the working of those increment ID generation before jumping to the code. As all of us must have known there are &#8220;Entity Types&#8221; in Magento. And those &#8220;Entity Types&#8221; are stored in table named <strong><em>eav_entity_type</em></strong>. If you look into that table for <strong>entity_type_code = order or invoice</strong>, in <strong>increment_model</strong> column you can see the Model alias used to generate new increment ID code. Lets take the case of invoice..so the increment model is <strong><em>eav/entity_increment_numeric</em></strong> and additionally this increment is store dependent as for this row <strong><em>increment_per_store</em></strong> is set to 1.

Next place to look into will be .. Yes! the model <strong><em>eav/entity_increment_numeric</em></strong>. And if you see the model class <strong>Mage_Eav_Model_Entity_Increment_Numeric</strong> there is only one Method in this class the <em>public function getNextId()</em> which is responsible to the the Next increment ID, needless to say its parent has other methods as well since you might have already understood. So if some how you can trigger the right Increment Model for any entity type and the call this method, you must get the next increment ID of order/invoice/shippment.

That was the &#8220;prose&#8221; part now lets get down to the &#8220;code poetry&#8221;. Here&#8217;s how you first find the appropriate increment ID and then fetch the new Increment ID.

[source language=&#8221;php&#8221;]
            //Get the Entity Type Increment Model you want, our case invoice
            // @var $entity_type_model Mage_Eav_Model_Entity_Type
            $entity_type_model=Mage::getSingleton(&#8216;eav/config&#8217;)-&gt;getEntityType(&#8216;invoice&#8217;);

            //Triggering the getNextId() of the Increment Model
            //@var $invoiceNew Mage_Sales_Model_Order_Invoice
            $new_incr_id = $entity_type_model-&gt;fetchNewIncrementId($invoiceNew-&gt;getOrder()-&gt;getStoreId());
[/source]

Now, you have the generated Invoice Increment ID. This can be helpful in cases when you want to do something else before Invoice is created but you want to now the Increment Id before hand. Hope this helps.
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/3/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/09/16/some-of-the-funniest-comments-on-code-quora-discovery/">Some of the Funniest Comments on Code - Quora Discovery</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/12/magenote-select-first-options-of-the-configurable-product-options-on-load/">MageNote - Select First Options of the Configurable Product Options on Load</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/07/the-most-popular-programming-jokes-quora/">The Most Popular Programming Jokes - Quora</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/06/is-consciousness-a-form-of-energy/">Is Consciousness a Form of Energy?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/06/ajaxify-now-available-on-github/">Ajaxify - Now Available on Github</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Your Name -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
